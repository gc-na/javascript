<!--
Meta Description: # BatteryManager في JavaScript: إدارة بطارية الأجهزة ## ملخص BatteryManager هو واجهة برمجية في JavaScript تتيح للمطورين الوصول إلى معلومات حول حالة ال...
Meta Keywords: البطارية, حالة, الشحن, على, battery
-->

# BatteryManager في JavaScript: إدارة بطارية الأجهزة

## ملخص
BatteryManager هو واجهة برمجية في JavaScript تتيح للمطورين الوصول إلى معلومات حول حالة البطارية في الأجهزة. يوفر هذا الواجهة إمكانية مراقبة مستوى الشحن، حالة الشحن، والعمر المتبقي للبطارية.

## الوثائق
### الغرض
تُستخدم واجهة BatteryManager لجمع معلومات حول بطارية الجهاز، مما يساعد المطورين على تحسين تجربة المستخدم بناءً على حالة الطاقة. يمكن استخدام هذه المعلومات لتعديل سلوك التطبيقات، مثل تقليل استهلاك الطاقة عندما تكون البطارية منخفضة.

### الاستخدام
للوصول إلى BatteryManager، يمكن استخدام خاصية `navigator.getBattery()`، التي ترجع كائنًا يحتوي على معلومات البطارية. يُرجع هذا الكائن وعودًا (Promises) تحتوي على معلومات مثل مستوى الشحن وحالة الشحن.

### الخصائص
- **charging**: خاصية Boolean تشير إلى ما إذا كانت البطارية مشحونة أم لا.
- **level**: خاصية عددية تمثل مستوى البطارية كنسبة مئوية (من 0 إلى 1).
- **chargingTime**: الوقت المتبقي حتى تكتمل عملية الشحن (بالثواني).
- **dischargingTime**: الوقت المتوقع حتى تنفد البطارية (بالثواني).

## أمثلة
### مثال 1: الحصول على معلومات البطارية
```javascript
navigator.getBattery().then(function(battery) {
    console.log("مستوى شحن البطارية:", battery.level * 100 + "%");
    console.log("حالة الشحن:", battery.charging ? "قيد الشحن" : "غير مشحون");
});
```

### مثال 2: مراقبة تغييرات حالة البطارية
```javascript
navigator.getBattery().then(function(battery) {
    function updateBatteryStatus() {
        console.log("مستوى شحن البطارية:", battery.level * 100 + "%");
    }
    
    battery.addEventListener('levelchange', updateBatteryStatus);
    battery.addEventListener('chargingchange', updateBatteryStatus);
});
```

## الشرح
### العقبات الشائعة
- **الدعم المحدود**: ليس كل المتصفحات تدعم واجهة BatteryManager. تأكد من التحقق من توافق المتصفح قبل استخدامه.
- **مشاكل الخصوصية**: قد تمنع بعض إعدادات الخصوصية أو سياسات الأمان الوصول إلى معلومات البطارية.
- **تحديثات غير متوقعة**: قد تتغير حالة البطارية بسرعة، لذا يجب أن تكون على استعداد للتعامل مع التحديثات المفاجئة.

## ملخص
BatteryManager في JavaScript يتيح للمطورين مراقبة حالة البطارية وتحسين التطبيقات بناءً على مستوى الطاقة.