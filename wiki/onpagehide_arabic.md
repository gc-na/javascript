<!--
Meta Description: # onpagehide في جافا سكريبت: كيفية استخدامه وتطبيقاته ## ملخص تُستخدم خاصية `onpagehide` في جافا سكريبت للتعامل مع أحداث اختفاء الصفحة، حيث يمكن استخد...
Meta Keywords: onpagehide, الصفحة, عند, جافا, سكريبت
-->

# onpagehide في جافا سكريبت: كيفية استخدامه وتطبيقاته

## ملخص
تُستخدم خاصية `onpagehide` في جافا سكريبت للتعامل مع أحداث اختفاء الصفحة، حيث يمكن استخدامها لاستجابة للانتقال بين الصفحات أو عندما يتم إخفاء المحتوى في واجهات المستخدم.

## التوثيق
### الغرض
تساعد خاصية `onpagehide` المطورين على تنفيذ وظائف محددة عندما تختفي الصفحة من العرض، وهي جزء من واجهة برمجة التطبيقات الخاصة بالتاريخ (History API) في جافا سكريبت. يمكن استخدامها لإدارة حالة التطبيق أو لتخزين البيانات مؤقتًا.

### الاستخدام
يمكن استخدام `onpagehide` كالتالي:

```javascript
window.onpagehide = function(event) {
    // الكود الذي سيتم تنفيذه عند اختفاء الصفحة
};
```

### التفاصيل
- **الحدث**: `pagehide` يُطلق عندما يتم إخفاء الصفحة، مثل التنقل إلى صفحة جديدة أو عند إغلاق علامة التبويب.
- **الخصائص**: يحتوي كائن الحدث على خصائص مثل `persisted`، والتي تشير إلى ما إذا كانت الصفحة ستتمكن من الاحتفاظ بحالتها عند العودة إليها.

## أمثلة
### مثال أساسي
```javascript
window.onpagehide = function(event) {
    console.log("تم إخفاء الصفحة.");
    if (event.persisted) {
        console.log("الصفحة محفوظة.");
    }
};
```

### مثال مع تخزين البيانات
```javascript
window.onpagehide = function(event) {
    localStorage.setItem('myData', JSON.stringify(data));
    console.log("تم حفظ البيانات.");
};
```

## الشرح
### المشاكل الشائعة
- **عدم دعم المتصفح**: تأكد من أن المتصفح يدعم `pagehide`، لأنه قد لا يكون مدعومًا في بعض الإصدارات القديمة.
- **تأخير في الكود**: إذا كنت تقوم بعمليات ثقيلة داخل حدث `onpagehide`، فقد يؤدي ذلك إلى تأخير تجربة المستخدم. من الأفضل تجنب العمليات المعقدة.

### ملاحظات إضافية
- يُفضل استخدام `pagehide` مع `pageshow` لضمان التعامل الجيد مع حالة الصفحة عند الانتقال بينها.
- تأكد من اختبار الكود في بيئات مختلفة لضمان توافقه.

## ملخص بجملة واحدة
`onpagehide` هو حدث في جافا سكريبت يُستخدم للتعامل مع اختفاء الصفحة، مما يتيح للمطورين تنفيذ وظائف محددة عند الانتقال بين الصفحات.