<!--
Meta Description: # مفهوم "opener" في JavaScript: التحكم في النوافذ ## الملخص تُستخدم خاصية `opener` في JavaScript لتمكين الوصول إلى النافذة الأصلية التي فتحت نافذة جدي...
Meta Keywords: النافذة, opener, الأم, إلى, نافذة
-->

# مفهوم "opener" في JavaScript: التحكم في النوافذ

## الملخص
تُستخدم خاصية `opener` في JavaScript لتمكين الوصول إلى النافذة الأصلية التي فتحت نافذة جديدة بواسطة `window.open()`. تسهل هذه الخاصية التفاعل بين النوافذ المختلفة في المتصفح.

## الوثائق
### الغرض
تُعتبر خاصية `opener` جزءًا من واجهة `Window` في JavaScript، وتُستخدم لتحديد النافذة التي فتحت نافذة جديدة. هذا يمكن المطورين من التفاعل مع النافذة الأصلية (النافذة الأم) من النافذة الجديدة (النافذة الفرعية).

### الاستخدام
يمكن الوصول إلى خاصية `opener` من أي نافذة تم فتحها باستخدام `window.open()`. إذا كانت النافذة الحالية هي نافذة فرعية، يمكن استخدام `opener` لاستدعاء وظائف أو خصائص من النافذة الأم.

```javascript
// فتح نافذة جديدة
let newWindow = window.open('https://example.com', '_blank');

// الوصول إلى النافذة الأم من النافذة الجديدة
if (newWindow.opener) {
    console.log('هذه النافذة تم فتحها من النافذة الأم.');
}
```

### التفاصيل
- خاصية `opener` تعيد كائن النافذة الأصلية، أو `null` إذا كانت النافذة الحالية ليست نتيجة فتح نافذة جديدة.
- يجب أن تكون النافذة الأم في نفس الأصل (domain) حتى يمكن الوصول إلى خصائصها، وذلك لأسباب تتعلق بالأمان (Security).

## الأمثلة
### مثال 1: فتح نافذة جديدة والوصول إلى النافذة الأم
```javascript
// في النافذة الأم
function openNewWindow() {
    let newWindow = window.open('newpage.html', '_blank');
    newWindow.opener.document.body.style.backgroundColor = 'lightblue'; // تغيير لون الخلفية للنافذة الأم
}
```

### مثال 2: تحقق مما إذا كانت النافذة الأم موجودة
```javascript
// في النافذة الفرعية
if (window.opener) {
    console.log("النافذة الأم موجودة.");
} else {
    console.log("لا توجد نافذة أم.");
}
```

## الشرح
### الأخطاء الشائعة
- **الوصول إلى `opener` من أصل مختلف**: إذا كانت النافذة الأم من أصل مختلف، فلن تتمكن من الوصول إلى خصائصها، وسيكون `opener` قيمته `null`.
- **إغلاق النافذة الأم**: إذا تم إغلاق النافذة الأم، فإن `opener` سيبقى موجودًا كمرجع ولكن لن يمكنك التفاعل معها بسبب عدم وجودها.

### ملاحظات إضافية
- من الأفضل استخدام `opener` فقط عند الحاجة، لأن الاعتماد عليه يمكن أن يجعل الكود أكثر تعقيدًا.
- تأكد من التعامل مع الأخطاء بشكل صحيح، خاصةً عند محاولة الوصول إلى خصائص النافذة الأم.

## ملخص جملة واحدة
خاصية `opener` في JavaScript تتيح الوصول إلى النافذة الأصلية التي فتحت نافذة جديدة، مما يسهل التفاعل بين النوافذ.