<!--
Meta Description: # حدث تحديث طلب الدفع (PaymentRequestUpdateEvent) في JavaScript ## ملخص يعد حدث تحديث طلب الدفع (PaymentRequestUpdateEvent) جزءاً من واجهات برمجة التط...
Meta Keywords: تحديث, الدفع, على, طلب, الطلب
-->

# حدث تحديث طلب الدفع (PaymentRequestUpdateEvent) في JavaScript

## ملخص
يعد حدث تحديث طلب الدفع (PaymentRequestUpdateEvent) جزءاً من واجهات برمجة التطبيقات (APIs) المتعلقة بالدفع في JavaScript، ويستخدم لتحديث معلومات طلب الدفع بناءً على إدخالات المستخدم.

## الوثائق
### الغرض
يتيح حدث تحديث طلب الدفع إمكانية تعديل تفاصيل طلب الدفع أثناء العملية، مما يسمح للمطورين بتقديم تجربة دفع ديناميكية للمستخدمين بناءً على التفاعلات المختلفة، مثل تغيير عنوان الشحن أو طريقة الدفع.

### الاستخدام
يتم استدعاء هذا الحدث عند الحاجة لتحديث معلومات الطلب. يتضمن الحدث كائنًا يحتوي على معلومات حول الطلب، مما يتيح للمطورين تعديل المعطيات المرسلة إلى واجهة الدفع.

### التفاصيل
- **الحدث**: يتم إطلاقه عند إجراء تغييرات على الطلب، مثل تغيير طريقة الدفع أو تغيير كمية العناصر.
- **خصائص الحدث**: يحتوي الحدث على خصائص مثل `updateWith()` التي تسمح بتحديث المعلومات المتعلقة بالطلب.

## أمثلة
### مثال أساسي
```javascript
const request = new PaymentRequest(methodData, details);

request.addEventListener('update', (event) => {
    // تحديث تفاصيل الطلب
    const updatedDetails = {
        total: { label: 'إجمالي', amount: '100.00' },
        displayItems: [
            { label: 'سلعة 1', amount: '50.00' },
            { label: 'سلعة 2', amount: '50.00' }
        ]
    };
    event.updateWith(updatedDetails);
});
```

### مثال على تحديث عنوان الشحن
```javascript
request.addEventListener('update', (event) => {
    const shippingAddress = event.shippingAddress;
    
    if (shippingAddress && shippingAddress.country === 'US') {
        const updatedDetails = {
            total: { label: 'الإجمالي', amount: '90.00' },
            displayItems: [
                { label: 'سلعة 1', amount: '45.00' },
                { label: 'سلعة 2', amount: '45.00' }
            ]
        };
        event.updateWith(updatedDetails);
    }
});
```

## الشرح
### الأخطاء الشائعة
- **عدم التحقق من صحة البيانات**: يجب التأكد من صحة البيانات المدخلة قبل تحديث الطلب، حيث أن البيانات غير الصحيحة قد تؤدي إلى فشل الطلب.
- **عدم التعامل مع الاستثناءات**: يجب التعامل مع الاستثناءات التي قد تحدث أثناء عملية التحديث لضمان تجربة مستخدم سلسة.
- **عدم تحديث القيم بشكل مناسب**: في حالة عدم تحديث القيم بناءً على تغييرات المستخدم، قد يؤدي ذلك إلى تجربة غير مرضية.

## ملخص جملة واحدة
يتيح حدث تحديث طلب الدفع (PaymentRequestUpdateEvent) في JavaScript تحديث تفاصيل طلب الدفع بناءً على تفاعلات المستخدم لتوفير تجربة دفع ديناميكية.