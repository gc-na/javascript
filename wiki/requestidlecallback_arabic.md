<!--
Meta Description: # requestIdleCallback: استدعاء غير نشط في جافا سكريبت ## الملخص `requestIdleCallback` هي وظيفة في جافا سكريبت تسمح للمطورين بتنفيذ المهام غير العاجلة ...
Meta Keywords: غير, requestidlecallback, العاجلة, المهام, على
-->

# requestIdleCallback: استدعاء غير نشط في جافا سكريبت

## الملخص
`requestIdleCallback` هي وظيفة في جافا سكريبت تسمح للمطورين بتنفيذ المهام غير العاجلة أثناء فترات السكون في واجهة المستخدم، مما يساعد في تحسين الأداء وتجربة المستخدم.

## الوثائق
### الغرض
تستخدم `requestIdleCallback` لتحسين أداء التطبيقات من خلال جدولة الوظائف التي لا تتطلب معالجة فورية. تعمل هذه الوظيفة على استغلال الفترات التي تكون فيها واجهة المستخدم غير مشغولة، مما يمكن المطورين من إجراء عمليات حسابية أو تحديثات دون التأثير على الأداء العام.

### الاستخدام
تُستخدم `requestIdleCallback` من خلال توفير دالة رد نداء (callback) كمعامل. يتم استدعاء هذه الدالة عندما يكون المتصفح في حالة سكون. يمكن أيضًا تمرير كائن يحتوي على معلومات حول الوقت المتاح (مثل الوقت المتبقي).

#### الصيغة
```javascript
requestIdleCallback(callback, options);
```

- **callback**: دالة سيتم استدعاؤها عندما يكون المتصفح في حالة سكون.
- **options** (اختياري): كائن يحتوي على خصائص مثل `timeout`، والتي تحدد الحد الأقصى للوقت الذي يمكن أن ينتظر فيه المتصفح قبل استدعاء دالة رد النداء.

### التفاصيل
- إذا لم يكن هناك وقت غير مشغول، ستظل الوظيفة في قائمة الانتظار حتى يتوفر وقت.
- إذا تم تجاوز المهلة المحددة (إذا تم تمرير `timeout`)، سيتم استدعاء دالة رد النداء حتى لو لم يكن هناك وقت غير مشغول.
  
## أمثلة
### مثال أساسي
```javascript
requestIdleCallback((deadline) => {
    while (deadline.timeRemaining() > 0) {
        // تنفيذ المهام غير العاجلة هنا
        console.log('جاري تنفيذ مهام غير عاجلة...');
    }
});
```

### مثال مع المهلة
```javascript
requestIdleCallback(
    (deadline) => {
        while (deadline.timeRemaining() > 0) {
            // تنفيذ المهام غير العاجلة هنا
            console.log('جاري تنفيذ مهام غير عاجلة...');
        }
    },
    { timeout: 1000 }
);
```

## الشرح
### pitfalls الشائعة
- **الدعم المحدود**: `requestIdleCallback` غير مدعومة على جميع المتصفحات، لذا يجب التأكد من دعمها قبل استخدامها.
- **تأخير المهام العاجلة**: تأكد من عدم استخدام `requestIdleCallback` للمهام التي تتطلب معالجة فورية، حيث قد يؤخر ذلك تنفيذها.

### ملاحظات إضافية
- يُفضل استخدام `requestIdleCallback` للمهام التي يمكن تنفيذها في الخلفية، مثل تحميل البيانات أو تحديثات الواجهة غير العاجلة.
- يمكن استخدام `cancelIdleCallback` لإلغاء الوظائف المجدولة إذا لزم الأمر.

## ملخص من جملة واحدة
توفر `requestIdleCallback` وسيلة فعالة لجدولة المهام غير العاجلة في جافا سكريبت خلال فترات السكون في واجهة المستخدم، مما يساعد في تحسين أداء التطبيقات.