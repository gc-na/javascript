<!--
Meta Description: # StorageManager في جافا سكريبت: إدارة التخزين بكفاءة ## الملخص StorageManager هو واجهة برمجة تطبيقات (API) في جافا سكريبت تُستخدم لإدارة التخزين المح...
Meta Keywords: التخزين, storagemanager, estimate, navigator, storage
-->

# StorageManager في جافا سكريبت: إدارة التخزين بكفاءة

## الملخص
StorageManager هو واجهة برمجة تطبيقات (API) في جافا سكريبت تُستخدم لإدارة التخزين المحلي في متصفحات الويب. توفر هذه الواجهة وسيلة للتحقق من سعة التخزين المتاحة والتحكم في الاستخدام الفعلي لتخزين البيانات.

## الوثائق
تُستخدم واجهة StorageManager بشكل رئيسي لإدارة التخزين المحلي، سواء كان ذلك التخزين المحلي (localStorage) أو التخزين المؤقت (sessionStorage). تتيح لك هذه الواجهة معرفة مقدار التخزين المتاح وأيضًا مقدار التخزين المستخدم حاليًا، مما يساعد على تحسين أداء تطبيقات الويب.

### الغرض
يهدف StorageManager إلى توفير معلومات دقيقة حول سعة التخزين المتاحة، مما يسمح للمطورين بتحسين كيفية استخدام التخزين في تطبيقاتهم.

### الاستخدام
تتضمن واجهة StorageManager عدة خصائص وطرق:
- **estimate()**: تُستخدم للحصول على تقدير لمقدار التخزين المستخدم والمتاح.
- **persist()**: تُستخدم لطلب أن يتم الاحتفاظ باستخدام التخزين، حتى في حال كانت هناك قيود على التخزين في النظام.

### تفاصيل
- **الخصائص**:
  - `StorageManager.estimate()`: ترجع كائنًا يحتوي على معلومات التخزين.
  - `StorageManager.persist()`: تعيد Promise تشير إلى ما إذا كان تم الاحتفاظ بالتخزين أم لا.

## الأمثلة
### مثال 1: تقدير سعة التخزين
```javascript
if (navigator.storage && navigator.storage.estimate) {
    navigator.storage.estimate().then(estimate => {
        console.log(`مقدار التخزين المستخدم: ${estimate.usage} بايت`);
        console.log(`مقدار التخزين المتاح: ${estimate.quota} بايت`);
    });
}
```

### مثال 2: طلب الحفاظ على التخزين
```javascript
if (navigator.storage && navigator.storage.persist) {
    navigator.storage.persist().then(persisted => {
        if (persisted) {
            console.log("تم الحفاظ على التخزين.");
        } else {
            console.log("التخزين ليس محفوظًا.");
        }
    });
}
```

## الشرح
### الأخطاء الشائعة
- **عدم التحقق من الدعم**: قد لا تدعم بعض المتصفحات واجهة StorageManager. تأكد دائمًا من التحقق من وجود `navigator.storage` قبل استخدامه.
- **التعامل مع الوعود**: تأكد من التعامل بشكل صحيح مع الوعود (Promise) عند استخدام `persist()`، لتجنب الأخطاء عند التعامل مع النتائج.

### ملاحظات إضافية
- `StorageManager` هو جزء من واجهة برمجة تطبيقات التخزين، لذا يمكن دمجه بسهولة مع تقنيات التخزين الأخرى.
- تأكد من أن تتبع استهلاك التخزين في تطبيقاتك، خاصة عند العمل مع كميات كبيرة من البيانات.

## ملخص
StorageManager في جافا سكريبت هو واجهة برمجة تطبيقات تتيح للمطورين التحكم في تخزين البيانات وإدارة سعة التخزين المتاحة بكفاءة.