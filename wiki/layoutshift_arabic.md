<!--
Meta Description: # التحول في التخطيط (Layout Shift) في جافا سكريبت: فهم واحتواء التغييرات في واجهات المستخدم ## الملخص يعد التحول في التخطيط (Layout Shift) ظاهرة تحدث ...
Meta Keywords: التخطيط, المستخدم, يمكن, التحولات, التحول
-->

# التحول في التخطيط (Layout Shift) في جافا سكريبت: فهم واحتواء التغييرات في واجهات المستخدم

## الملخص
يعد التحول في التخطيط (Layout Shift) ظاهرة تحدث عندما يتغير موضع العناصر في واجهة المستخدم بعد تحميل الصفحة، مما قد يؤدي إلى تجربة مستخدم غير مرضية. في جافا سكريبت، يمكن تتبع هذه الظاهرة وتحسينها باستخدام أدوات مثل API الخاصة بالتحول في التخطيط.

## الوثائق
### الغرض
التحول في التخطيط هو مقياس يُستخدم لتحديد مقدار التغيير في تخطيط الصفحة أثناء تفاعل المستخدم. يعتبر هذا التغيير مهمًا لأنه يؤثر على تجربة المستخدم بشكل مباشر، حيث يمكن أن يؤدي إلى نقر المستخدم على عناصر غير صحيحة.

### الاستخدام
يمكن لمطوري الويب استخدام JavaScript لتتبع التحولات في التخطيط باستخدام `Layout Shift API`. يتم ذلك من خلال الاستماع للأحداث التي تؤثر على تخطيط الصفحة وتسجيل التغييرات.

### التفاصيل
- **API**: `Layout Shift API` يوفر معلومات حول التحولات في التخطيط، مثل حجم التحول وتوقيته.
- **التحسين**: يساعد على تحسين تجربة المستخدم من خلال تقليل التحولات المفاجئة.
- **التحليل**: يمكن استخدام الأدوات مثل Google Lighthouse لقياس التحولات وتحليل أداء الصفحة.

## الأمثلة
### مثال 1: تتبع التحولات في التخطيط
```javascript
let cumulativeLayoutShiftScore = 0;

const observer = new PerformanceObserver((entryList) => {
    for (const entry of entryList.getEntries()) {
        cumulativeLayoutShiftScore += entry.value;
        console.log(`تحول التخطيط: ${entry.value}`);
    }
});

observer.observe({ type: 'layout-shift', buffered: true });
```

### مثال 2: تقليل التحولات
```javascript
const image = document.createElement('img');
image.src = 'image-url.jpg';
image.style.width = '100%'; // تحديد عرض الصورة مسبقًا
document.body.appendChild(image);
```

## الشرح
### المشاكل الشائعة
- **عدم تحديد الأبعاد**: عدم تحديد الأبعاد للعناصر مثل الصور يمكن أن يؤدي إلى تحولات غير متوقعة.
- **تحميل محتوى ديناميكي**: إضافة محتوى ديناميكي بعد تحميل الصفحة يمكن أن يسبب تغييرات في التخطيط.
- **الإعلانات**: قد تؤدي الإعلانات التي تظهر بشكل مفاجئ إلى تحولات غير مرغوب فيها.

### ملاحظات إضافية
- يُفضل دائمًا استخدام الأبعاد الثابتة للعناصر.
- استخدم `font-display` لضبط عرض الخطوط لتحسين الأداء.

## ملخص بجملة واحدة
التحول في التخطيط هو تغير غير مرغوب فيه في موقع العناصر قد يؤثر سلبًا على تجربة المستخدم، ويمكن تتبعه وتحسينه باستخدام JavaScript.