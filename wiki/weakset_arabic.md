<!--
Meta Description: # WeakSet في JavaScript: فهم شامل واستخدامه ## ملخص WeakSet هو نوع خاص من مجموعات البيانات في JavaScript يُستخدم لتخزين كائنات بشكل غير قوي، مما يعني ...
Meta Keywords: weakset, javascript, تخزين, كائنات, تلقائي
-->

# WeakSet في JavaScript: فهم شامل واستخدامه

## ملخص
WeakSet هو نوع خاص من مجموعات البيانات في JavaScript يُستخدم لتخزين كائنات بشكل غير قوي، مما يعني أن الكائنات يمكن أن تُجمع تلقائيًا من الذاكرة إذا لم يكن هناك أي مراجع أخرى لها في البرنامج.

## الوثائق
### الغرض
يُستخدم WeakSet لتخزين كائنات بحيث يمكن جمعها تلقائيًا من الذاكرة عندما لا يكون لها مراجع أخرى. هذا يجعل WeakSet مفيدًا في سيناريوهات معينة حيث تحتاج إلى إدارة الذاكرة بشكل فعال، مثل تخزين الكائنات المؤقتة.

### الاستخدام
لإنشاء WeakSet، يمكنك استخدام الكود التالي:
```javascript
const weakset = new WeakSet();
```
### الخصائص
- **تخزين الكائنات فقط**: WeakSet يمكنه تخزين الكائنات فقط، ولا يمكنه تخزين أنواع البيانات الأخرى مثل الأعداد أو السلاسل النصية.
- **غير قابل للتكرار**: لا يدعم WeakSet التكرار، لذا لا يمكنك استخدام الحلقات مثل `forEach` عليه.
- **جمع تلقائي**: إذا لم يعد هناك أي مراجع إلى كائن داخل WeakSet، يمكن لجمع القمامة في JavaScript أن يقوم بإزالة هذا الكائن تلقائيًا.

### الوظائف
- **add(value)**: يضيف الكائن إلى WeakSet.
- **delete(value)**: يزيل الكائن من WeakSet.
- **has(value)**: يتحقق مما إذا كان الكائن موجودًا في WeakSet.

## الأمثلة
### إضافة كائنات
```javascript
const weakset = new WeakSet();
let obj1 = {};
let obj2 = {};
weakset.add(obj1);
weakset.add(obj2);
console.log(weakset.has(obj1)); // true
console.log(weakset.has(obj2)); // true
```

### إزالة كائنات
```javascript
weakset.delete(obj1);
console.log(weakset.has(obj1)); // false
```

### جمع القمامة
```javascript
let obj3 = {};
weakset.add(obj3);
obj3 = null; // الآن يمكن جمع القمامة
```

## الشرح
### الأخطاء الشائعة
1. **عدم إمكانية تخزين أنواع البيانات الأخرى**: قد يحاول المطورون تخزين أنواع بيانات مثل الأعداد أو السلاسل النصية في WeakSet، مما يؤدي إلى أخطاء.
2. **عدم دعم التكرار**: قد يتوقع البعض أن WeakSet يدعم التكرار باستخدام `forEach`، لكن هذا غير صحيح.

### ملاحظات إضافية
- WeakSet يُعتبر خيارًا جيدًا عندما تحتاج إلى تخزين كائنات مؤقتة، ولكن عليك أن تكون مدركًا لقيوده.

## ملخص في جملة واحدة
WeakSet في JavaScript هو هيكل بيانات يُستخدم لتخزين كائنات بشكل غير قوي، مما يُتيح جمعها تلقائيًا من الذاكرة عند عدم وجود مراجع لها.