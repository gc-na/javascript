<!--
Meta Description: # الوعد (Promise) في JavaScript: توضيح شامل ## ملخص الوعد (Promise) في JavaScript هو كائن يُستخدم لتمثيل العملية غير المتزامنة، مما يسمح بالتعامل مع ا...
Meta Keywords: الوعد, promise, resolve, javascript, غير
-->

# الوعد (Promise) في JavaScript: توضيح شامل

## ملخص
الوعد (Promise) في JavaScript هو كائن يُستخدم لتمثيل العملية غير المتزامنة، مما يسمح بالتعامل مع النتائج المستقبلية أو الأخطاء التي قد تحدث أثناء تنفيذ العمليات غير المتزامنة. 

## الوثائق
### الغرض
الوعد في JavaScript يُستخدم لتعزيز إمكانية قراءة الكود وإدارة العمليات غير المتزامنة بشكل أكثر فعالية مقارنة بالأساليب التقليدية مثل callbacks.

### الاستخدام
يتم إنشاء الوعد باستخدام الكلمة المفتاحية `new Promise`، حيث يتطلب مُنشئ الوعد دالتين: `resolve` و `reject`. إذا تمت العملية بنجاح، يتم استدعاء `resolve`، وإذا حدث خطأ، يتم استدعاء `reject`.

### التفاصيل
- **الحالة الأولية**: عندما يتم إنشاء الوعد، يكون في حالة "معلق" (pending).
- **الحالة المكتملة**: عندما يتم استدعاء `resolve`، ينتقل الوعد إلى حالة "مكتمل" (fulfilled).
- **الحالة المرفوضة**: عندما يتم استدعاء `reject`، ينتقل الوعد إلى حالة "مرفوض" (rejected).

يمكنك استخدام الدوال `then` و `catch` للتعامل مع النتائج والاخطاء على التوالي.

## أمثلة
### مثال بسيط لإنشاء وعد
```javascript
let myPromise = new Promise((resolve, reject) => {
    let success = true; // أو false لمحاكاة الفشل
    if (success) {
        resolve("تمت العملية بنجاح!");
    } else {
        reject("حدث خطأ!");
    }
});

myPromise
    .then(result => {
        console.log(result); // سيظهر: تمت العملية بنجاح!
    })
    .catch(error => {
        console.log(error); // سيظهر: حدث خطأ!
    });
```

### مثال مع العمليات غير المتزامنة
```javascript
function getData() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            const data = { name: "أحمد" };
            resolve(data);
        }, 2000);
    });
}

getData()
    .then(data => {
        console.log(data.name); // سيظهر: أحمد
    })
    .catch(error => {
        console.log(error);
    });
```

## الشرح
### الأخطاء الشائعة
1. **نسيان استخدام `return`**: عند استخدام `then`، إذا لم تُرجع الوعد، قد تتسبب في سلوك غير متوقع.
2. **التعامل مع الأخطاء**: يجب دائمًا استخدام `catch` لمعالجة الأخطاء المحتملة.

### ملاحظات إضافية
- يمكن ربط عدة وعود باستخدام `Promise.all`، مما يتيح لك تنفيذ مجموعة من الوعدات بالتوازي.
- يجب أن تكون حذرًا في التعامل مع الوعدات المتداخلة، حيث قد يؤدي ذلك إلى "جحيم الوعد" إذا لم تتم إدارتها بشكل صحيح.

## ملخص من سطر واحد
الوعد (Promise) في JavaScript هو كائن يُستخدم لإدارة العمليات غير المتزامنة بطريقة أكثر وضوحًا وفعالية.