<!--
Meta Description: # التعامل مع الوعود في جافا سكريبت: onrejectionhandled ## ملخص تعتبر دالة `onrejectionhandled` في جافا سكريبت من الأدوات المهمة التي تسمح للمطورين بال...
Meta Keywords: التعامل, onrejectionhandled, يتم, promise, الوعود
-->

# التعامل مع الوعود في جافا سكريبت: onrejectionhandled

## ملخص
تعتبر دالة `onrejectionhandled` في جافا سكريبت من الأدوات المهمة التي تسمح للمطورين بالتفاعل مع الحالات التي يتم فيها التعامل مع الوعود المرفوضة. تساعد هذه الدالة في تحسين إدارة الأخطاء في تطبيقات جافا سكريبت.

## الوثائق
### الغرض
الدالة `onrejectionhandled` هي حدث يتم استدعاؤه عندما يتم التعامل مع وعد مرفوض، مما يعني أنه قد تم استخدام دالة `catch` أو `then` مع معالجة الخطأ. يمكن استخدامها لتسجيل أو تنفيذ إجراءات معينة عند معالجة الأخطاء.

### الاستخدام
يمكنك تعيين دالة `onrejectionhandled` على كائن `Promise`. يتم استدعاء هذه الدالة تلقائيًا عندما يتم التعامل مع وعد مرفوض. إليك كيفية تعيينها:

```javascript
Promise.onrejectionhandled = function(event) {
    console.log('تم التعامل مع الرفض:', event.reason);
};
```

### التفاصيل
- **النوع**: `Event`
- **الخصائص**:
  - `reason`: تحتوي على السبب الذي أدى إلى رفض الوعد.
  
تُطلق هذه الدالة فقط عندما يتم معالجة الرفض. إذا تم رفض وعد ولم يتم التعامل معه، فسيتم إطلاق حدث `unhandledrejection` بدلاً من ذلك.

## الأمثلة
### مثال 1: التعامل مع وعد مرفوض
```javascript
const promise = new Promise((resolve, reject) => {
    reject('خطأ ما حدث');
});

promise.catch((error) => {
    console.log('تم التعامل مع الخطأ:', error);
});
```

### مثال 2: استخدام onrejectionhandled
```javascript
Promise.onrejectionhandled = function(event) {
    console.log('تم التعامل مع الرفض:', event.reason);
};

const promise = new Promise((resolve, reject) => {
    reject('خطأ آخر');
});

promise.catch((error) => {
    console.log('تم التعامل مع الخطأ:', error);
});
```

## الشرح
### الأخطاء الشائعة
- **عدم التعامل مع الوعود**: إذا لم يتم استخدام `catch` أو `then` مع وعد مرفوض، فإن `onrejectionhandled` لن يتم استدعاؤها، وسيؤدي ذلك إلى إطلاق حدث `unhandledrejection`.
- **تعيين الدالة بعد إنشاء الوعود**: إذا قمت بتعيين `onrejectionhandled` بعد إنشاء الوعود، فلن يتم استدعاؤها للأخطاء التي حدثت قبل التعيين.

### ملاحظات إضافية
- من الجيد دائمًا التعامل مع الوعود المرفوضة لتجنب مشكلات الأداء والأخطاء غير المعالجة في تطبيقات جافا سكريبت.
- تأكد من استخدام `onrejectionhandled` كجزء من استراتيجيتك العامة لإدارة الأخطاء.

## ملخص جملة واحدة
`onrejectionhandled` في جافا سكريبت هي دالة تُستخدم للتفاعل مع الوعود المرفوضة بعد معالجتها.