<!--
Meta Description: # onpageshow：JavaScriptにおけるページ表示イベント ## 概要 `onpageshow`は、Webページが表示されたときに発生するイベントで、特にページがキャッシュから読み込まれた場合に有用です。このイベントは、ページのライフサイクル管理やユーザーインタラクションの最適化に役立...
Meta Keywords: onpageshow, event, イベントは, window, persisted
-->

# onpageshow：JavaScriptにおけるページ表示イベント

## 概要
`onpageshow`は、Webページが表示されたときに発生するイベントで、特にページがキャッシュから読み込まれた場合に有用です。このイベントは、ページのライフサイクル管理やユーザーインタラクションの最適化に役立ちます。

## ドキュメンテーション
### 目的
`onpageshow`イベントは、ブラウザでページが表示されたときにトリガーされます。このイベントは、ページが新たに読み込まれた場合や、ブラウザのキャッシュから表示された場合の両方で発生します。

### 使用法
`onpageshow`イベントは、`window`オブジェクトに対してリスナーを追加することで使用します。以下のように記述します。

```javascript
window.onpageshow = function(event) {
    if (event.persisted) {
        console.log("ページはキャッシュから復元されました。");
    } else {
        console.log("ページは新たにロードされました。");
    }
};
```

### 詳細
- `event.persisted`プロパティは、ページがキャッシュから読み込まれたかどうかを示します。このプロパティが`true`の場合、ページはキャッシュから復元されたことを意味します。
- `onpageshow`イベントは、`onload`イベントよりも早く発生します。これは、ページが視覚的に表示される前に特定の処理を行いたい場合に便利です。

## 例
以下は、`onpageshow`イベントの基本的な使用例です。

```javascript
window.onpageshow = function(event) {
    if (event.persisted) {
        alert("ページがキャッシュから復元されました。");
    } else {
        alert("ページが新たに読み込まれました。");
    }
};
```

このコードを使用すると、ユーザーがページをリロードした際、またはブラウザの戻るボタンを使用した際に、どのようにページが表示されたかを確認できます。

## 説明
`onpageshow`イベントを使用する際の一般的な注意点は以下の通りです。

- **キャッシュの影響**：キャッシュから復元された場合と新たに読み込まれた場合で処理を分けることができるため、ユーザーに対して異なる体験を提供することが可能です。
- **ブラウザの互換性**：すべてのブラウザで同様に動作するわけではありません。特に古いブラウザでは、`onpageshow`がサポートされていない場合がありますので、事前に確認が必要です。

## 一行要約
`onpageshow`は、Webページが表示されたときに発生するイベントで、キャッシュからの復元や新規読み込みを区別するために使用されます。